<div class="dashboard__content property-page bgc-f7">
    <div class="row pb40 d-block d-lg-none">
        <!-- Menu responsive -->
        <app-menu-responsive></app-menu-responsive>
        <!-- End Menu responsive -->
    </div>

    <p-toast></p-toast>

    <!-- Liste des demandes de locations -->
    <div *ngIf="affichage == 1">
        <div class="row align-items-center pb40">
            <div class="col-xxl-7">
                <div class="dashboard_title_area">
                    <h4>Liste des demandes de locations</h4>
                </div>
            </div>
            <div class="col-xxl-5">
                <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
                    <div class="item1 mb15-sm">
                        <div class="search_area">
                            <input type="text" [(ngModel)]="recherche" class="form-control bdrs12" placeholder="Faire une recherche">
                            <label><span class="flaticon-search"></span></label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <p-confirmDialog [style]="{width: '50vw'}" acceptLabel="Oui" rejectLabel="Non" acceptButtonStyleClass="accept-label" rejectButtonStyleClass="reject-label"></p-confirmDialog>
            <div class="col-xl-12">
                <div class="ps-widget bgc-white bdrs12 p30 mb30 position-relative">
                    <div class="packages_table table-responsive">
                        <table class="table-style3 table at-savesearch">
                            <thead class="t-head">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Code</th>
                                    <th scope="col">{{ user.role.code == 'ROLE_CLIENT' ? 'Annonceur' : 'Client' }}</th>
                                    <th scope="col">Bien</th>
                                    <!-- <th scope="col">Date</th> -->
                                    <th scope="col">Etat</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody class="t-body">
                                <tr *ngFor="let demandeLocation of demandesLocations.content | genericFilter: recherche; let i = index">
                                    <td class="vam">{{ (numeroDeLaPage * elementsParPage) + i + 1 }}</td>
                                    <td class="vam">{{ demandeLocation.codeDemande }}</td>
                                    <td class="vam" *ngIf="user.role.code !== 'ROLE_CLIENT'">{{ demandeLocation.client.nom }} {{ demandeLocation.client.prenom }}</td>
                                    <td class="vam" *ngIf="user.role.code == 'ROLE_CLIENT' && demandeLocation.publication.agenceImmobiliere !== null">{{ demandeLocation.publication.agenceImmobiliere.nomAgence }}</td>
                                    <td class="vam" *ngIf="user.role.code == 'ROLE_CLIENT' && demandeLocation.publication.agenceImmobiliere == null">{{ demandeLocation.publication.personne.nom }} {{ demandeLocation.publication.personne.prenom }}</td>
                                    <td class="vam">{{ demandeLocation.publication.bienImmobilier.codeBien + ' / ' + demandeLocation.publication.bienImmobilier.typeDeBien.designation }}</td>
                                    <!-- <td class="vam">{{ publication.datePublication | date: 'dd/MM/yyyy' }}</td> -->
                                    <td class="vam">
                                        <p-tag *ngIf="demandeLocation.etatDemande == 0" severity="warning" value="En attente"></p-tag>
                                        <p-tag *ngIf="demandeLocation.etatDemande == 1" severity="success" value="Validé"></p-tag>
                                        <p-tag *ngIf="demandeLocation.etatDemande == 2" severity="danger" value="Annulé"></p-tag>
                                        <p-tag *ngIf="demandeLocation.etatDemande == 3" severity="danger" value="Refusé"></p-tag>
                                        <p-tag *ngIf="demandeLocation.etatDemande == 4" severity="info" value="Modifié"></p-tag>
                                    </td>
                                    <td class="vam">
                                        <div class="d-flex">
                                            <button pButton type="button" icon="pi pi-eye" (click)="afficherPageDetail(demandeLocation.id)" pTooltip="Détails" tooltipPosition="top" class="p-button-text p-button-info">
                      </button>

                                            <button pButton type="button" icon="pi pi-pencil pi-lg" *ngIf="(demandeLocation.etatDemande == 0 || demandeLocation.etatDemande == 2 || demandeLocation.etatDemande == 3 || demandeLocation.etatDemande == 4) && user.role.code == 'ROLE_CLIENT'" (click)="afficherPageModifier(demandeLocation.id)"
                                                pTooltip="Modifier" tooltipPosition="top" class="p-button-text p-button-warning">
                      </button>

                                            <button *ngIf="(demandeLocation.etatDemande == 0 || demandeLocation.etatDemande == 4) && user.role.code == 'ROLE_CLIENT'" pButton type="button" icon="pi pi-send pi-lg" (click)="relancer(demandeLocation.id)" pTooltip="Relancer" tooltipPosition="right"
                                                class="p-button-text p-button-sucess">
                      </button>

                                            <button *ngIf="demandeLocation.etatDemande == 1 && user.role.code !== 'ROLE_CLIENT' && afficherBoutonSiBienDelegue(demandeLocation.publication.bienImmobilier.estDelegue)" pButton type="button" icon="pi pi-folder pi-lg" (click)="afficherPageAjoutContrat(demandeLocation.id)"
                                                pTooltip="Proposer un contrat de location" tooltipPosition="right" class="p-button-text p-button-sucess">
                      </button>
                                        </div>
                                    </td>
                            </tbody>
                        </table>
                    </div>

                    <div *ngIf="demandesLocations.totalElements !== 0" class="mbp_pagination text-center mt30">
                        <p-paginator (onPageChange)="pagination($event)" [rows]="demandesLocations.size" [totalRecords]="demandesLocations.totalElements" [rowsPerPageOptions]="[5, 10, 15]" [showCurrentPageReport]="true" [showPageLinks]="true" [showFirstLastIcon]="true" currentPageReportTemplate="Affichage du {first} au {last} des {totalRecords} demandes de locations">
                        </p-paginator>
                    </div>
                    <div *ngIf="demandesLocations.totalElements == 0" class="mbp_pagination text-center mt30">
                        <p class="mt10 pagination_page_count text-center">Aucune demande de location enregistrée pour le moment</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- End Liste des demandes de locations -->

    <!-- Détails d'une demande de location -->
    <div *ngIf="affichage == 2">
        <div class="row align-items-center">
            <div class="col-xxl-5">
                <div class="dashboard_title_area">
                    <h4>Détails d'une demande de location</h4>
                </div>
            </div>
            <div class="col-xxl-7">
                <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
                    <a class="ud-btn btn-valider" type="button" *ngIf="user.role.code != 'ROLE_CLIENT' && (demandeLocation.etatDemande == 0 || demandeLocation.etatDemande == 4) && afficherBoutonSiBienDelegue(demandeLocation.publication.bienImmobilier.estDelegue)" (click)="valider(demandeLocation.id)">Valider</a>                    &nbsp;
                    <a class="ud-btn btn-danger" type="button" *ngIf="demandeLocation.etatDemande == 0 && afficherBoutonSiBienDelegue(demandeLocation.publication.bienImmobilier.estDelegue)" (click)="user.role.code == 'ROLE_CLIENT' ? afficherModalAnnulation(demandeLocation.id) : afficherModalRefus(demandeLocation.id)">
            {{ user.role.code == 'ROLE_CLIENT' ? 'Annuler' : 'Refuser' }}
          </a> &nbsp;
                    <a type="button" (click)="voirListe()" class="ud-btn btn-retour">Retour</a>
                </div>
            </div>
            <p-messages severity="info">
                <ng-template pTemplate>
                    <div class="ml-2">
                        <th scope="col">Libelle : {{ demandeLocation.publication.libelle }}</th>
                    </div>
                </ng-template>
            </p-messages>
        </div>

        <p-confirmDialog [style]="{width: '50vw'}" acceptLabel="Oui" rejectLabel="Non" acceptButtonStyleClass="accept-label" rejectButtonStyleClass="reject-label"></p-confirmDialog>
        <div class="row">

            <div class="col-xl-12">
                <div class="ps-widget bgc-white bdrs12 p30 mb30 position-relative">
                    <div class="row">

                        <h4 class="title title-detail fz17 mb30">Demande de location</h4>
                        <div class="row" *ngIf="user.role.code !== 'ROLE_CLIENT'">
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Client</p>
                                <p class="text">{{ demandeLocation.client.nom + ' ' + demandeLocation.client.prenom }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Email du client</p>
                                <p class="text">{{ demandeLocation.client.email }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Téléphone du client</p>
                                <p class="text">{{ demandeLocation.client.telephone }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Loyer proposé</p>
                                <p class="text">{{ demandeLocation.prixDeLocation | number }} FCFA</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.avance">
                                <p class="fw600 mb5 ff-heading dark-color">Avance proposée</p>
                                <p class="text">{{ demandeLocation.avance }} mois</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.caution">
                                <p class="fw600 mb5 ff-heading dark-color">Caution proposée</p>
                                <p class="text">{{ demandeLocation.caution }} mois</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Etat</p>
                                <p class="text">
                                    <p-tag *ngIf="demandeLocation.etatDemande == 0" severity="warning" value="En attente"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 1" severity="success" value="Validé"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 2" severity="danger" value="Annulé"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 3" severity="danger" value="Refusé"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 4" severity="info" value="Modifié"></p-tag>
                                </p>
                            </div>
                        </div>

                        <div class="row" *ngIf="user.role.code == 'ROLE_CLIENT'">
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Annonceur</p>
                                <p class="text">{{ demandeLocation.publication.agenceImmobiliere ? demandeLocation.publication.agenceImmobiliere.nomAgence : demandeLocation.publication.personne.nom + ' ' + demandeLocation.publication.personne.prenom }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Email de l'annonceur</p>
                                <p class="text">{{ demandeLocation.publication.agenceImmobiliere ? demandeLocation.publication.agenceImmobiliere.adresseEmail : demandeLocation.publication.personne.email }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Téléphone de l'annonceur</p>
                                <p class="text">{{ demandeLocation.publication.agenceImmobiliere ? demandeLocation.publication.agenceImmobiliere.telephone : demandeLocation.publication.personne.telephone }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Loyer proposé</p>
                                <p class="text">{{ demandeLocation.prixDeLocation | number }} FCFA</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.avance">
                                <p class="fw600 mb5 ff-heading dark-color">Avance proposée</p>
                                <p class="text">{{ demandeLocation.avance }} mois</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.caution">
                                <p class="fw600 mb5 ff-heading dark-color">Caution proposée</p>
                                <p class="text">{{ demandeLocation.caution }} mois</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Etat</p>
                                <p class="text">
                                    <p-tag *ngIf="demandeLocation.etatDemande == 0" severity="warning" value="En attente"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 1" severity="success" value="Validé"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 2" severity="danger" value="Annuler"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 3" severity="danger" value="Refusé"></p-tag>
                                    <p-tag *ngIf="demandeLocation.etatDemande == 4" severity="warning" value="Modifié"></p-tag>
                                </p>
                            </div>
                        </div>

                        <p-divider *ngIf="listMotifs.length !== 0"></p-divider>
                        <div *ngFor="let listMotif of listMotifs; let i = index;">
                            <h4 class="title title-detail fz17 mb20">Motif {{ user.role.code == 'ROLE_CLIENT' ? 'de refus' : 'd\'annulation'}} #{{ i + 1 }}</h4>
                            <p class="text justify-text">{{ listMotif.motif }}</p>
                        </div>

                        <p-divider></p-divider>
                        <h4 class="title title-detail fz17 mb30">Publication</h4>
                        <div class="row">
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Code</p>
                                <p class="text">{{ demandeLocation.publication.codePublication }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Type de transaction</p>
                                <p class="text">{{ demandeLocation.publication.typeDeTransaction }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Prix mensuel du bien</p>
                                <p class="text">{{ demandeLocation.publication.prixDuBien | number }} FCFA</p>
                            </div>
                            <div class="col-sm-6 col-xl-4">
                                <p class="fw600 mb5 ff-heading dark-color">Date de publication</p>
                                <p class="text">{{ demandeLocation.publication.datePublication | date: "dd/MM/yyyy" }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.avance">
                                <p class="fw600 mb5 ff-heading dark-color">Avance</p>
                                <p class="text">{{ demandeLocation.publication.avance }} mois</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.caution">
                                <p class="fw600 mb5 ff-heading dark-color">Caution</p>
                                <p class="text">{{ demandeLocation.publication.caution }} mois</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.commission">
                                <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                                <p class="text">{{ demandeLocation.publication.commission }} mois</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.fraisDeVisite">
                                <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                                <p class="text">{{ demandeLocation.publication.fraisDeVisite | number }} FCFA</p>
                            </div>
                        </div>

                        <p-divider></p-divider>
                        <h4 class="title title-detail fz17 mb30">Bien immobilier</h4>
                        <div class="text-center" *ngIf="images.length == 0">
                            <p-image class="w-100" imageClass="imageLength0" src="assets/images/home/house.jpg" alt="" width="650" loading="lazy"></p-image>
                        </div>

                        <div *ngIf="images.length !== 0">
                            <p-galleria [value]="images" [showIndicators]="false" [showItemNavigatorsOnHover]="true" [showItemNavigators]="true" [responsiveOptions]="responsiveOptions" [containerStyle]="{ 'max-width': '640px', 'margin': '0 auto' }" [numVisible]="5">

                                <ng-template pTemplate="item" let-item>
                                    <img src="{{this.APIEndpoint+'api/image/bien-immobilier/'+item.id}}" style="width: 100%; border-radius:10px;" loading="lazy" />
                                </ng-template>

                                <ng-template pTemplate="thumbnail" *ngIf="images.length > 4" let-item>
                                    <div class="grid grid-nogutter justify-content-center">
                                        <img src="{{this.APIEndpoint+'api/image/bien-immobilier/'+item.id}}" style="width: 100%; border-radius:8px;" loading="lazy" />
                                    </div>
                                </ng-template>

                            </p-galleria>
                        </div>

                        <h4 class="title mt30 mb10 fz17" *ngIf="demandeLocation.publication.bienImmobilier.description">Description</h4>
                        <p class="text justify-text" *ngIf="demandeLocation.publication.bienImmobilier.description">
                            {{ demandeLocation.publication.bienImmobilier.description }}
                        </p>

                        <div class="row">
                            <div class="col-md-6 col-xl-4">
                                <div class="d-flex justify-content-between">
                                    <div class="pd-list">
                                        <p class="fw600 mb10 ff-heading dark-color">Code</p>
                                        <p class="fw600 mb10 ff-heading dark-color">Type de bien</p>
                                        <p class="fw600 mb10 ff-heading dark-color" *ngIf="afficherCategorie(bienImm.typeDeBien.designation)">Catégorie</p>
                                        <p class="fw600 mb10 ff-heading dark-color">Pays</p>
                                        <p class="fw600 mb10 ff-heading dark-color">Région</p>
                                        <p class="fw600 mb-0 ff-heading dark-color">Ville</p>
                                    </div>
                                    <div class="pd-list">
                                        <p class="text mb10">{{ bienImm.codeBien }}</p>
                                        <p class="text mb10">{{ bienImm.typeDeBien.designation }}</p>
                                        <p class="text mb10" *ngIf="afficherCategorie(bienImm.typeDeBien.designation)">{{ bienImm.categorie }}</p>
                                        <p class="text mb10">{{ bienImm.quartier.ville.region.pays.libelle }}</p>
                                        <p class="text mb10">{{ bienImm.quartier.ville.region.libelle }}</p>
                                        <p class="text mb-0">{{ bienImm.quartier.ville.libelle }}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xl-4 offset-xl-2">
                                <div class="d-flex justify-content-between">
                                    <div class="pd-list">
                                        <p class="fw600 mb10 ff-heading dark-color">Quartier</p>
                                        <p class="fw600 mb10 ff-heading dark-color">Adresse</p>
                                        <p class="fw600 mb10 ff-heading dark-color">Surface</p>
                                        <p class="fw600 mb10 ff-heading dark-color">Statut</p>
                                        <p class="fw600 mb-0 ff-heading dark-color">Etat</p>
                                    </div>
                                    <div class="pd-list">
                                        <p class="text mb10">{{ bienImm.quartier.libelle }}</p>
                                        <p class="text mb10" *ngIf="bienImm.adresse">{{ bienImm.adresse }}</p>
                                        <p class="text mb10" *ngIf="bienImm.surface">{{ bienImm.surface }} m²</p>
                                        <p class="text mb10">
                                            <p-tag *ngIf="bienImm.statutBien == 'Disponible'" severity="success" value="Disponible"></p-tag>
                                        </p>
                                        <p class="text mb-0">
                                            <p-tag *ngIf="bienImm.etatBien == true" severity="success" value="Activé"></p-tag>
                                            <p-tag *ngIf="bienImm.etatBien == false" severity="danger" value="Désactivé"></p-tag>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h4 class="title mt30 mb10 fz17" *ngIf="bienImm.typeDeBien.designation != 'Terrain'">Caractéristiques</h4>
                        <div class="row">
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreChambres">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de chambres</p>
                                <p class="text">{{ caracteristique.nombreChambres }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreChambresSalon">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de chambres salon</p>
                                <p class="text">{{ caracteristique.nombreChambresSalon }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreBureaux">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de bureaux</p>
                                <p class="text">{{ caracteristique.nombreBureaux }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreBoutiques">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de boutiques</p>
                                <p class="text">{{ caracteristique.nombreBoutiques }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreMagasins">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de magasions</p>
                                <p class="text">{{ caracteristique.nombreMagasins }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreAppartements">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre d'appartements</p>
                                <p class="text">{{ caracteristique.nombreAppartements }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreEtages">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre d'étages</p>
                                <p class="text">{{ caracteristique.nombreEtages }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreGarages">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de garages</p>
                                <p class="text">{{ caracteristique.nombreGarages }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreCuisineInterne">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de cusine interne</p>
                                <p class="text">{{ caracteristique.nombreCuisineInterne }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreCuisineExterne">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de cuisine externe</p>
                                <p class="text">{{ caracteristique.nombreCuisineExterne }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreWCDoucheInterne">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de WC-Douche interne</p>
                                <p class="text">{{ caracteristique.nombreWCDoucheInterne }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreWCDoucheExterne">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de WC-Douche externe</p>
                                <p class="text">{{ caracteristique.nombreWCDoucheExterne }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombreSalons">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de salons</p>
                                <p class="text">{{ caracteristique.nombreSalons }}</p>
                            </div>
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.nombrePlacards">
                                <p class="fw600 mb5 ff-heading dark-color">Nombre de placards</p>
                                <p class="text">{{ caracteristique.nombrePlacards }}</p>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.parking">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Parking</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.eauTde">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Eau TDE</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.compteurEau">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Compteur d'eau</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.wifi">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Wifi</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.placard">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Placards</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.cuisineInterne">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Cuisine interne</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.wcDoucheInterne">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>WC-Douche interne</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.balcon">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Balcon</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.garage">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Garage</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.eauForage">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Eau Forage</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.electriciteCeet">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Électricité CEET</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.ascenseur">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Ascenceur</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.etage">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>À l'étage</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.dalle">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Dallé</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.cuisineExterne">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Cuisine externe</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.wcDoucheExterne">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>WC-Douche externe</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.climatisation">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Climatiseur</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.plafonne">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Plafonné</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.baieVitree">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Baie vitrée</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.solCarelle">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Sol carellé</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.cashPowerPersonnel">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Cash power personnel</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.compteurAdditionnel">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Compteur additionnel</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.jardin">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Jardin</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.piscine">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Piscine</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.terrasse">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Terrasse</p>
                            </div>

                            <div class="col-sm-6 col-xl-4" *ngIf="caracteristique.toiletteVisiteur">
                                <p class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Toilette visiteur</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Start Dialog Annulation d'une demande -->
        <p-dialog header="Annulation d'un demande" [(visible)]="modalAnnulationVisible" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
            <form class="form-style1">
                <div class="row">
                    <div class="form-group">
                        <div class="mb30">
                            <label class="heading-color ff-heading fw600 mb10">Motif de l'annulation</label>
                            <textarea id="motifRejet" name="motifRejet" [(ngModel)]="motifAnnulationForm.motif" placeholder="Le motif de l'annulation de la demande" style="height: 160px;"></textarea>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="text-end">
                            <button class="ud-btn btn-annuler" type="button" (click)="dialogueNotVisible()">Annuler</button> &nbsp;
                            <button class="ud-btn btn-valider" type="button" (click)="enregistrerMotifAnnuler()">Enregistrer</button>
                        </div>
                    </div>
                </div>
            </form>
        </p-dialog>
        <!-- End Dialog Annulation d'une demande -->

        <!-- Start Dialog Refus d'une demande -->
        <p-dialog header="Refus d'une demande" [(visible)]="modalRefusVisible" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
            <form class="form-style1">
                <div class="row">
                    <div class="form-group">
                        <div class="mb30">
                            <label class="heading-color ff-heading fw600 mb10">Motif du refus</label>
                            <textarea id="motifRejet" name="motifRejet" [(ngModel)]="motifRefusForm.motif" placeholder="Le motif du refus de la demande" style="height: 160px;"></textarea>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="text-end">
                            <button class="ud-btn btn-annuler" type="button" (click)="dialogueNotVisible()">Annuler</button> &nbsp;
                            <button class="ud-btn btn-valider" type="button" (click)="enregistrerMotifRefuser()">Enregistrer</button>
                        </div>
                    </div>
                </div>
            </form>
        </p-dialog>
        <!-- End Dialog Refus d'une demande -->

        <div class="text-end">
            <a class="ud-btn btn-retour" (click)="voirListe()" type="button">Retour</a>
        </div>
    </div>
    <!-- End Détails d'une demande d'achat -->

    <!-- Start Modification d'une demande de location -->
    <div *ngIf="affichage == 3">
        <div class="row align-items-center pb40">
            <div class="col-xxl-7">
                <div class="dashboard_title_area">
                    <h4>Modification d'une demande de location</h4>
                </div>
            </div>
            <div class="col-xxl-5">
                <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
                    <a class="ud-btn btn-retour" type="button" (click)="voirListe()">Retour</a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-12">
                <div class="ps-widget bgc-white bdrs12 p30 mb30 position-relative">
                    <form #demandeLocationForm="ngForm" (ngSubmit)="modifier(demandeLocation.id)" class="form-style1">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="mb20">
                                    <label class="heading-color ff-heading fw600 mb10">Prix de location proposé</label>
                                    <p-inputNumber class="pInputNumber p-fluid" placeholder="Prix de location proposé" [(ngModel)]="demandeLocation.prixDeLocation" inputId="prixDeLocation" name="prixDeLocation" mode="currency" currency="CFA" locale="de-DE" [required]="true" [max]="demandeLocation.publication.prixDuBien"
                                        #prixDeLocation="ngModel">
                                    </p-inputNumber>
                                    <div [hidden]="!prixDeLocation?.hasError('required') || !prixDeLocation.touched" class="error">
                                        Le prix de location proposé est requis.
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="mb20">
                                    <label class="heading-color ff-heading fw600 mb10">Avance proposée</label>
                                    <p-inputNumber class="pInputNumber p-fluid" placeholder="Avance proposée en nombre de mois" [(ngModel)]="demandeLocation.avance" inputId="avance" name="avance" suffix=" mois" [max]="demandeLocation.publication.avance" #avance="ngModel">
                                    </p-inputNumber>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="mb20">
                                    <label class="heading-color ff-heading fw600 mb10">Caution proposée</label>
                                    <p-inputNumber class="pInputNumber p-fluid" placeholder="Caution proposée en nombre de mois" [(ngModel)]="demandeLocation.caution" inputId="caution" name="caution" suffix=" mois" [max]="demandeLocation.publication.caution" #caution="ngModel">
                                    </p-inputNumber>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="text-end">
                                <button class="ud-btn btn-annuler" (click)="demandeLocationForm.reset()" type="button">Annuler</button> &nbsp;
                                <button class="ud-btn btn-modifier" [ngClass]="{ 'disabled-link': !demandeLocationForm.valid }" type="submit">Modifier</button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
    <!-- End Modification d'une demande de location -->

    <!-- Start Formulaire Proposition Contrat -->
    <div *ngIf="affichage == 4">
        <div class="row align-items-center pb40">
            <div class="col-xxl-5">
                <div class="dashboard_title_area">
                    <h4>Proposition d'un contrat de location</h4>
                    <p class="text"></p>
                </div>
            </div>
            <div class="col-xxl-7">
                <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
                    <a class="ud-btn btn-retour" type="button" (click)="voirListe()">Retour</a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-12">
                <div class="ps-widget bgc-white bdrs12 default-box-shadow2 p30 mb30">
                    <p-steps [model]="menus" [readonly]="false" [activeIndex]="activeIndex" (activeIndexChange)="onActiveIndexChange($event)"></p-steps>

                    <!-- Start Etape 1e -->
                    <div *ngIf="activeIndex == 0" class="ps-widget bgc-white bdrs12 p30 position-relative">
                        <form [formGroup]="contratLocationStep1Form" class="form-style1">
                            <div class="row">

                                <div class="col-sm-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">Type de contrat</label>
                                        <br>
                                        <p-dropdown class="select1" emptyMessage="Aucun résultat trouvé" [options]="typesDeContrat" placeholder="Choisir le type de contrat" formControlName="typeContrat" [(ngModel)]="typeDeContratSelectionne">
                                        </p-dropdown>
                                        <div class="error" [hidden]="!typeContrat?.hasError('required') || !typeContrat.touched">La selection du type de contrat est obligatoire</div>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">Loyer</label>
                                        <p-inputNumber class="pInputNumber p-fluid" placeholder="Le loyer" [(ngModel)]="contratLocation.loyer" inputId="loyer" name="loyer" mode="currency" currency="CFA" locale="de-DE" [required]="true" formControlName="loyer" [max]="demandeLocation.prixDeLocation ? demandeLocation.prixDeLocation : demandeLocation.publication.prixDuBien">
                                        </p-inputNumber>
                                        <div [hidden]="!loyer?.hasError('required') || !loyer.touched" class="error">
                                            Le loyer proposé est requis.
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">Avance en nombre de mois</label>
                                        <p-inputNumber class="pInputNumber p-fluid" placeholder="L'avance en nombre de mois" [(ngModel)]="contratLocation.avance" formControlName="avance" inputId="avance" suffix=" mois" [max]="demandeLocation.avance ? demandeLocation.avance : (demandeLocation.publication ? demandeLocation.publication.avance : 12)">
                                        </p-inputNumber>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">Caution en nombre de mois</label>
                                        <p-inputNumber class="pInputNumber p-fluid" placeholder="La caution en nombre de mois" [(ngModel)]="contratLocation.caution" formControlName="caution" inputId="caution" suffix=" mois" [max]="demandeLocation.caution ? demandeLocation.caution : (demandeLocation.publication ? demandeLocation.publication.caution : 12)">
                                        </p-inputNumber>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">Date début</label>
                                        <p-calendar class="pCalendar p-fluid" placeholder="La date début contrat" [(ngModel)]="contratLocation.dateDebut" formControlName="dateDebut" inputId="dateDebut" name="dateDebut" [required]="true">
                                        </p-calendar>
                                        <div class="error" [hidden]="!dateDebut?.hasError('required') || !dateDebut.touched">La date début contrat est requise</div>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">Date fin</label>
                                        <p-calendar class="pCalendar p-fluid" placeholder="La date fin contrat" [(ngModel)]="contratLocation.dateFin" formControlName="dateFin" inputId="dateFin" name="dateFin">
                                        </p-calendar>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">À payer chaque (*) jour du mois</label>
                                        <p-inputNumber class="pInputNumber p-fluid" placeholder="Le nombre de jours" [(ngModel)]="contratLocation.jourSupplementPaiement" formControlName="jourSupplementPaiement" inputId="jourSupplementPaiement" name="jourSupplementPaiement" suffix=" jour(s) du mois">
                                        </p-inputNumber>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="mb20">
                                        <label class="heading-color ff-heading fw600 mb10">Débuté le paiement du loyer après (*) de mois</label>
                                        <p-inputNumber class="pInputNumber p-fluid" placeholder="Le nombre de mois" [(ngModel)]="contratLocation.debutPaiement" formControlName="debutPaiement" inputId="debutPaiement" name="debutPaiement" suffix=" mois" [required]="true">
                                        </p-inputNumber>
                                        <div [hidden]="!debutPaiement?.hasError('required') || !debutPaiement.touched" class="error">
                                            Le nombre de mois est requis
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="d-sm-flex justify-content-between">
                                        <button class="ud-btn btn-annuler" type="button" (click)="resetContratLocationStep1Form()">Annuler</button>
                                        <button class="ud-btn btn-valider" [ngClass]="{ 'disabled-link': contratLocationStep1Form.invalid }" (click)="etape2()">Suivant<i class="pi pi-arrow-right"></i></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- End Etape 1e -->

                    <!-- Start Etape 2 -->
                    <div *ngIf="activeIndex == 1" class="ps-widget bgc-white bdrs12 p30 position-relative">
                        <div class="row" *ngIf="user.role.code == 'ROLE_RESPONSABLE' || user.role.code == 'ROLE_AGENTIMMOBILIER' || user.role.code == 'ROLE_DEMARCHEUR'">
                            <form [formGroup]="contratLocationStep2Form" class="form-style1">
                                <div class="row">

                                    <div class="col-lg-6">
                                        <div class="mb20">
                                            <label class="heading-color ff-heading fw600 mb10">Commission en nombre de mois</label>
                                            <p-inputNumber class="pInputNumber p-fluid" placeholder="La commission en nombre de mois" [(ngModel)]="contratLocation.commission" formControlName="commission" inputId="commission" suffix=" mois" name="commission" [max]="(demandeLocation.publication ? demandeLocation.publication.commission : 12)">
                                            </p-inputNumber>
                                        </div>
                                    </div>

                                    <div class="col-lg-6">
                                        <div class="mb20">
                                            <label class="heading-color ff-heading fw600 mb10">Frais de visite</label>
                                            <p-inputNumber class="pInputNumber p-fluid" placeholder="Frais de visite" [(ngModel)]="contratLocation.fraisDeVisite" formControlName="fraisDeVisite" inputId="fraisDeVisite" name="fraisDeVisite" mode="currency" currency="CFA" locale="de-DE">
                                            </p-inputNumber>
                                        </div>
                                    </div>

                                    <div class="col-md-12">
                                        <div class="d-sm-flex justify-content-between">
                                            <button class="ud-btn btn-retour" (click)="etape1()"><i class="pi pi-arrow-left"></i> Précédent</button>
                                            <button class="ud-btn btn-valider" [ngClass]="{ 'disabled-link': contratLocationStep2Form.invalid }" (click)="etape3()">Suivant<i class="pi pi-arrow-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="row" *ngIf="user.role.code == 'ROLE_PROPRIETAIRE' || user.role.code == 'ROLE_GERANT'">
                            <div class="col-lg-12">
                                <div class="row" *ngIf="demandeLocation.publication.bienImmobilier.estDelegue">
                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Locataire</h4>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.client.nom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.client.prenom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.client.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.client.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Type de contrat</p>
                                            <p class="text">{{ typeDeContratSelectionne }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Loyer</p>
                                            <p class="text">{{ contratLocation.loyer | number }} FCFA</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Avance</p>
                                            <p class="text">{{ contratLocation.avance }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Caution</p>
                                            <p class="text">{{ contratLocation.caution }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date début contrat</p>
                                            <p class="text">{{ contratLocation.dateDebut | date: 'dd/MM/yyyy' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date fin contrat</p>
                                            <p class="text">{{ contratLocation.dateFin ? (contratLocation.dateFin | date: 'dd/MM/yyyy') : 'non connu' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prochain paiement</p>
                                            <p class="text">{{ calculerProchainPaiement(contratLocation.dateDebut, contratLocation.jourSupplementPaiement, contratLocation.debutPaiement) | date: 'dd/MM/yyyy' }}</p>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Propriétaire</h4>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.nom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.prenom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.telephone }}</p>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                                        <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeLocation.publication.bienImmobilier.description">Description</p>
                                        <p class="text justify-text" *ngIf="demandeLocation.publication.bienImmobilier.description">
                                            {{ demandeLocation.publication.bienImmobilier.description }}
                                        </p>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.codeBien }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorie(demandeLocation.publication.bienImmobilier.typeDeBien.designation)">
                                            <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.categorie }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Région</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.adresse">
                                            <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.adresse }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.surface">
                                            <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.surface | number }} m²</p>
                                        </div>
                                    </div>

                                    <div class="row" *ngIf="demandeLocation.publication.agenceImmobiliere">
                                        <h4 class="title title-detail fz17 mb20">Agence</h4>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.nomAgence }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.adresseEmail }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                                            <p class="text">{{ contratLocation.commission }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                                            <p class="text">{{ contratLocation.fraisDeVisite | number }} FCFA</p>
                                        </div>

                                    </div>

                                    <div class="row" *ngIf="!demandeLocation.publication.agenceImmobiliere">
                                        <h4 class="title title-detail fz17 mb20" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">Démarcheur</h4>
                                        <h4 class="title title-detail fz17 mb20" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">Gérant</h4>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.personne.nom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.publication.personne.prenom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.personne.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.personne.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                                            <p class="text">{{ contratLocation.commission }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                                            <p class="text">{{ contratLocation.fraisDeVisite | number }} FCFA</p>
                                        </div>

                                    </div>
                                </div>

                                <div class="row" *ngIf="!demandeLocation.publication.bienImmobilier.estDelegue">
                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Locataire</h4>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.client.nom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.client.prenom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.client.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.client.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Type de contrat</p>
                                            <p class="text">{{ typeDeContratSelectionne }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Loyer</p>
                                            <p class="text">{{ contratLocation.loyer | number }} FCFA</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Avance</p>
                                            <p class="text">{{ contratLocation.avance }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Caution</p>
                                            <p class="text">{{ contratLocation.caution }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date début contrat</p>
                                            <p class="text">{{ contratLocation.dateDebut | date: 'dd/MM/yyyy' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date fin contrat</p>
                                            <p class="text">{{ contratLocation.dateFin ? (contratLocation.dateFin | date: 'dd/MM/yyyy') : 'non connu' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prochain paiement</p>
                                            <p class="text">{{ calculerProchainPaiement(contratLocation.dateDebut, contratLocation.jourSupplementPaiement, contratLocation.debutPaiement) | date: 'dd/MM/yyyy' }}</p>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Propriétaire</h4>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.nom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.prenom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.telephone }}</p>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                                        <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeLocation.publication.bienImmobilier.description">Description</p>
                                        <p class="text justify-text" *ngIf="demandeLocation.publication.bienImmobilier.description">
                                            {{ demandeLocation.publication.bienImmobilier.description }}
                                        </p>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.codeBien }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Type de bien</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.typeDeBien.designation }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorie(demandeLocation.publication.bienImmobilier.typeDeBien.designation)">
                                            <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.categorie }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Région</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.adresse">
                                            <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.adresse }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.surface">
                                            <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.surface | number }} m²</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12 mt30">
                                <div class="d-sm-flex justify-content-between">
                                    <button class="ud-btn btn-retour" type="button" (click)="etape1()"><i class="pi pi-arrow-left"></i> Précédent</button>
                                    <button class="ud-btn btn-valider" (click)="ajouterContratLocation()" [ngClass]="{ 'disabled-link': contratLocationStep1Form.invalid || contratLocationStep2Form.invalid }">Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Etape 2 -->

                    <!-- Start Etape 3 -->
                    <div *ngIf="activeIndex == 2" class="ps-widget bgc-white bdrs12 p30 position-relative">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="row" *ngIf="demandeLocation.publication.bienImmobilier.estDelegue">
                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Locataire</h4>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.client.nom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.client.prenom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.client.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.client.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Type de contrat</p>
                                            <p class="text">{{ typeDeContratSelectionne }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Loyer</p>
                                            <p class="text">{{ contratLocation.loyer | number }} FCFA</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Avance</p>
                                            <p class="text">{{ contratLocation.avance }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Caution</p>
                                            <p class="text">{{ contratLocation.caution }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date début contrat</p>
                                            <p class="text">{{ contratLocation.dateDebut | date: 'dd/MM/yyyy' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date fin contrat</p>
                                            <p class="text">{{ contratLocation.dateFin ? (contratLocation.dateFin | date: 'dd/MM/yyyy') : 'non connu' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prochain paiement</p>
                                            <p class="text">{{ calculerProchainPaiement(contratLocation.dateDebut, contratLocation.jourSupplementPaiement, contratLocation.debutPaiement) | date: 'dd/MM/yyyy' }}</p>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Propriétaire</h4>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.nom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.prenom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.personne.telephone }}</p>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                                        <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeLocation.publication.bienImmobilier.description">Description</p>
                                        <p class="text justify-text" *ngIf="demandeLocation.publication.bienImmobilier.description">
                                            {{ demandeLocation.publication.bienImmobilier.description }}
                                        </p>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.codeBien }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Type de bien</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.typeDeBien.designation }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorie(demandeLocation.publication.bienImmobilier.typeDeBien.designation)">
                                            <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.categorie }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Région</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.adresse">
                                            <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.adresse }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.surface">
                                            <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.surface | number }} m²</p>
                                        </div>
                                    </div>

                                    <div class="row" *ngIf="demandeLocation.publication.agenceImmobiliere">
                                        <h4 class="title title-detail fz17 mb20">Agence</h4>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.nomAgence }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.adresseEmail }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                                            <p class="text">{{ contratLocation.commission }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                                            <p class="text">{{ contratLocation.fraisDeVisite | number }} FCFA</p>
                                        </div>

                                    </div>

                                    <div class="row" *ngIf="!demandeLocation.publication.agenceImmobiliere">
                                        <h4 class="title title-detail fz17 mb20" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">Démarcheur</h4>
                                        <h4 class="title title-detail fz17 mb20" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">Gérant</h4>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.personne.nom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.publication.personne.prenom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.personne.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeLocation.publication.personne.role.code == 'ROLE_GERANT'">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.personne.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                                            <p class="text">{{ contratLocation.commission }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                                            <p class="text">{{ contratLocation.fraisDeVisite | number }} FCFA</p>
                                        </div>

                                    </div>
                                </div>

                                <div class="row" *ngIf="!demandeLocation.publication.bienImmobilier.estDelegue">
                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Locataire</h4>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.client.nom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.client.prenom }}</p>
                                        </div>
                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.client.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.client.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Type de contrat</p>
                                            <p class="text">{{ typeDeContratSelectionne }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Loyer</p>
                                            <p class="text">{{ contratLocation.loyer | number }} FCFA</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Avance</p>
                                            <p class="text">{{ contratLocation.avance }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Caution</p>
                                            <p class="text">{{ contratLocation.caution }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date début contrat</p>
                                            <p class="text">{{ contratLocation.dateDebut | date: 'dd/MM/yyyy' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Date fin contrat</p>
                                            <p class="text">{{ contratLocation.dateFin ? (contratLocation.dateFin | date: 'dd/MM/yyyy') : 'non connu' }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Prochain paiement</p>
                                            <p class="text">{{ calculerProchainPaiement(contratLocation.dateDebut, contratLocation.jourSupplementPaiement, contratLocation.debutPaiement) | date: 'dd/MM/yyyy' }}</p>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                                        <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeLocation.publication.bienImmobilier.description">Description</p>
                                        <p class="text justify-text" *ngIf="demandeLocation.publication.bienImmobilier.description">
                                            {{ demandeLocation.publication.bienImmobilier.description }}
                                        </p>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.codeBien }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Type de bien</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.typeDeBien.designation }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorie(demandeLocation.publication.bienImmobilier.typeDeBien.designation)">
                                            <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.categorie }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Région</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.ville.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.quartier.libelle }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.adresse">
                                            <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.adresse }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.bienImmobilier.surface">
                                            <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                                            <p class="text">{{ demandeLocation.publication.bienImmobilier.surface | number }} m²</p>
                                        </div>
                                    </div>

                                    <div class="row" *ngIf="demandeLocation.publication.agenceImmobiliere">
                                        <h4 class="title title-detail fz17 mb20">Agence</h4>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.nomAgence }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.adresseEmail }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.agenceImmobiliere.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                                            <p class="text">{{ contratLocation.commission }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4">
                                            <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                                            <p class="text">{{ contratLocation.fraisDeVisite | number }} FCFA</p>
                                        </div>

                                    </div>

                                    <div class="row" *ngIf="!demandeLocation.publication.agenceImmobiliere">
                                        <h4 class="title title-detail fz17 mb20" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">Démarcheur</h4>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.personne.nom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.publication.personne.prenom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.personne.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.personne.telephone }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                                            <p class="text">{{ contratLocation.commission }} mois</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                                            <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                                            <p class="text">{{ contratLocation.fraisDeVisite | number }} FCFA</p>
                                        </div>

                                        <h4 class="title title-detail fz17 mb20" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">Propriétaire</h4>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                                            <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                                            <p class="text">{{ demandeLocation.publication.personne.nom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                                            <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                                            <p class="text">{{ demandeLocation.publication.personne.prenom }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                                            <p class="fw600 mb5 ff-heading dark-color">Email</p>
                                            <p class="text">{{ demandeLocation.publication.personne.email }}</p>
                                        </div>

                                        <div class="col-sm-6 col-xl-4" *ngIf="demandeLocation.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                                            <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                                            <p class="text">{{ demandeLocation.publication.personne.telephone }}</p>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12 mt30">
                                <div class="d-sm-flex justify-content-between">
                                    <button class="ud-btn btn-retour" type="button" (click)="etape2()"><i class="pi pi-arrow-left"></i> Précédent</button>
                                    <button class="ud-btn btn-valider" (click)="ajouterContratLocation()" [ngClass]="{ 'disabled-link': contratLocationStep1Form.invalid || contratLocationStep2Form.invalid }">Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Etape 3 -->
                </div>
            </div>
        </div>
    </div>
    <!-- End Formulaire Proposition Contrat -->
</div>
