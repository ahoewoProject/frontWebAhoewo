<div class="dashboard__content property-page bgc-f7">
  <div class="row pb40 d-block d-lg-none">
    <!-- Menu responsive -->
    <app-menu-responsive></app-menu-responsive>
    <!-- End Menu responsive -->
  </div>

  <p-toast></p-toast>

  <!-- Liste des demandes d'achats -->
  <div *ngIf="affichage == 1">
    <div class="row align-items-center pb40">
      <div class="col-xxl-7">
        <div class="dashboard_title_area">
          <h4>Liste des demandes d'achats</h4>
        </div>
      </div>
      <div class="col-xxl-5">
        <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
          <div class="item1 mb15-sm">
            <div class="search_area">
              <input type="text" [(ngModel)]="recherche" class="form-control bdrs12" placeholder="Faire une recherche">
              <label><span class="flaticon-search"></span></label>
            </div>
          </div>
          <!-- &nbsp;
          <a type="button" (click)="voirFormulaireAjouter()" class="ud-btn btn-thm">Ajouter une publication</a> -->
        </div>
      </div>
    </div>
    <div class="row">
      <p-confirmDialog [style]="{width: '50vw'}" acceptLabel="Oui" rejectLabel="Non" acceptButtonStyleClass="accept-label" rejectButtonStyleClass="reject-label"></p-confirmDialog>
      <div class="col-xl-12">
        <div class="ps-widget bgc-white bdrs12 p30 mb30 position-relative">
          <div class="packages_table table-responsive">
            <table class="table-style3 table at-savesearch">
              <thead class="t-head">
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Code</th>
                  <th scope="col">{{ user.role.code == 'ROLE_CLIENT' ? 'Annonceur' : 'Client' }}</th>
                  <th scope="col">Bien</th>
                  <!-- <th scope="col">Date</th> -->
                  <th scope="col">Etat</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              <tbody class="t-body">
                <tr *ngFor="let demandeAchat of demandesAchats.content | genericFilter: recherche; let i = index">
                  <td class="vam">{{ (numeroDeLaPage * elementsParPage) + i + 1 }}</td>
                  <td class="vam">{{ demandeAchat.codeDemande }}</td>
                  <td class="vam" *ngIf="user.role.code !== 'ROLE_CLIENT'">{{ demandeAchat.client.nom }} {{ demandeAchat.client.prenom }}</td>
                  <td class="vam" *ngIf="user.role.code == 'ROLE_CLIENT' && demandeAchat.publication.agenceImmobiliere !== null">{{ demandeAchat.publication.agenceImmobiliere.nomAgence }}</td>
                  <td class="vam" *ngIf="user.role.code == 'ROLE_CLIENT' && demandeAchat.publication.agenceImmobiliere == null">{{ demandeAchat.publication.personne.nom }} {{ demandeAchat.publication.personne.prenom }}</td>
                  <td class="vam">{{ demandeAchat.publication.bienImmobilier.codeBien }} / {{ demandeAchat.publication.bienImmobilier.typeDeBien.designation }}</td>
                  <!-- <td class="vam">{{ publication.datePublication | date: 'dd-MM-yyyy' }}</td> -->
                  <td class="vam">
                    <p-tag *ngIf="demandeAchat.etatDemande == 0" severity="warning" value="En attente"></p-tag>
                    <p-tag *ngIf="demandeAchat.etatDemande == 1" severity="success" value="Validée"></p-tag>
                    <p-tag *ngIf="demandeAchat.etatDemande == 2" severity="danger" value="Annulé"></p-tag>
                    <p-tag *ngIf="demandeAchat.etatDemande == 3" severity="danger" value="Refusé"></p-tag>
                    <p-tag *ngIf="demandeAchat.etatDemande == 4" severity="warning" value="Modifié"></p-tag>
                  </td>
                  <td class="vam">
                    <div class="d-flex">
                      <button pButton type="button" icon="pi pi-eye"
                        (click)="afficherPageDetail(demandeAchat.id)"
                        pTooltip="Détails" tooltipPosition="top" class="p-button-text p-button-info">
                      </button>

                      <button
                        pButton type="button" icon="pi pi-pencil pi-lg" *ngIf="(demandeAchat.etatDemande == 0 || demandeAchat.etatDemande == 2 || demandeAchat.etatDemande == 3 || demandeAchat.etatDemande == 4) && user.role.code == 'ROLE_CLIENT'"
                        (click)="afficherPageModifier(demandeAchat.id)"
                        pTooltip="Modifier" tooltipPosition="top" class="p-button-text p-button-warning">
                      </button>

                      <button *ngIf="(demandeAchat.etatDemande == 0 || demandeAchat.etatDemande == 4) && user.role.code == 'ROLE_CLIENT'"
                        pButton type="button" icon="pi pi-send pi-lg" (click)="relancer(demandeAchat.id)"
                        pTooltip="Relancer" tooltipPosition="right" class="p-button-text p-button-sucess">
                      </button>

                      <button *ngIf="demandeAchat.etatDemande == 1 && user.role.code !== 'ROLE_CLIENT'"
                        pButton type="button" icon="pi pi-folder pi-lg" (click)="afficherPageContrat(demandeAchat.id)"
                        pTooltip="Proposer un contrat de vente" tooltipPosition="right" class="p-button-text p-button-sucess">
                      </button>
                    </div>
                  </td>
              </tbody>
            </table>
          </div>

          <div *ngIf="demandesAchats.totalElements !== 0" class="mbp_pagination text-center mt30">
            <p-paginator
              (onPageChange)="pagination($event)" [rows]="demandesAchats.size"
              [totalRecords]="demandesAchats.totalElements" [rowsPerPageOptions]="[5, 10, 15]"
              [showCurrentPageReport]="true" [showPageLinks]="true" [showFirstLastIcon]="true"
              currentPageReportTemplate="Affichage du {first} au {last} des {totalRecords} demandes d'achats">
            </p-paginator>
          </div>
          <div *ngIf="demandesAchats.totalElements == 0" class="mbp_pagination text-center mt30">
            <p class="mt10 pagination_page_count text-center">Aucune demande d'achat enregistrée pour le moment</p>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!-- End Liste des demandes d'achats -->

  <!-- Détails d'une demande d'achat -->
  <div *ngIf="affichage == 2">
    <div class="row align-items-center">
      <div class="col-xxl-5">
        <div class="dashboard_title_area">
          <h4>Détails d'une demande d'achat</h4>
        </div>
      </div>
      <div class="col-xxl-7">
        <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
          <a class="ud-btn btn-valider" type="button" *ngIf="user.role.code != 'ROLE_CLIENT' && (demandeAchat.etatDemande == 0 || demandeAchat.etatDemande == 4)"
           (click)="valider(demandeAchat.id)">Valider</a>
          &nbsp;
          <a class="ud-btn btn-danger" type="button" *ngIf="demandeAchat.etatDemande == 0"
            (click)="user.role.code == 'ROLE_CLIENT' ? afficherModalAnnulation(demandeAchat.id) : afficherModalRefus(demandeAchat.id)">
            {{ user.role.code == 'ROLE_CLIENT' ? 'Annuler' : 'Refuser' }}
          </a>
          &nbsp;
          <a class="ud-btn btn-retour" type="button" (click)="voirListe()">Retour</a>
        </div>
      </div>
      <p-messages severity="info">
        <ng-template pTemplate>
          <div class="ml-2"><th scope="col">Libelle : {{ demandeAchat.publication.libelle }}</th></div>
        </ng-template>
      </p-messages>
    </div>

    <p-confirmDialog [style]="{width: '50vw'}" acceptLabel="Oui" rejectLabel="Non" acceptButtonStyleClass="accept-label" rejectButtonStyleClass="reject-label"></p-confirmDialog>
    <div class="row">

      <div class="col-xl-12">
        <div class="ps-widget bgc-white bdrs12 p30 mb30 position-relative">
          <div class="row">

            <h4 class="title fz17 mb30">Détails de la demande d'achat</h4>
            <div class="row" *ngIf="user.role.code !== 'ROLE_CLIENT'">
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Nom du client</p>
                <p class="text">{{ demandeAchat.client.nom }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Prénom(s) du client</p>
                <p class="text">{{ demandeAchat.client.prenom }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Email du client</p>
                <p class="text">{{ demandeAchat.client.email }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                <p class="text">{{ demandeAchat.client.telephone }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Prix d'achat proposé</p>
                <p class="text">{{ demandeAchat.prixAchat | number }} FCFA</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Nombre de tranches</p>
                <p class="text">{{ demandeAchat.nombreDeTranche }} tranches</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Etat</p>
                <p class="text">
                  <p-tag *ngIf="demandeAchat.etatDemande == 0" severity="warning" value="En attente"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 1" severity="success" value="Validé"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 2" severity="danger" value="Annuler"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 3" severity="danger" value="Refusé"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 4" severity="warning" value="Modifié"></p-tag>
                </p>
              </div>
            </div>

            <div class="row" *ngIf="user.role.code == 'ROLE_CLIENT'">
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Annonceur</p>
                <p class="text">{{ demandeAchat.publication.agenceImmobiliere ? demandeAchat.publication.agenceImmobiliere.nomAgence : demandeAchat.publication.personne.nom + ' ' + demandeAchat.publication.personne.prenom }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Email de l'annonceur</p>
                <p class="text">{{ demandeAchat.publication.agenceImmobiliere ? demandeAchat.publication.agenceImmobiliere.adresseEmail : demandeAchat.publication.personne.email }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Téléphone de l'annonceur</p>
                <p class="text">{{ demandeAchat.publication.agenceImmobiliere ? demandeAchat.publication.agenceImmobiliere.telephone : demandeAchat.publication.personne.telephone }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Prix d'achat proposé</p>
                <p class="text">{{ demandeAchat.prixAchat | number }} FCFA</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Nombre de tranches</p>
                <p class="text">{{ demandeAchat.nombreDeTranche }} tranches</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Etat</p>
                <p class="text">
                  <p-tag *ngIf="demandeAchat.etatDemande == 0" severity="warning" value="En attente"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 1" severity="success" value="Validé"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 2" severity="danger" value="Annuler"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 3" severity="danger" value="Refusé"></p-tag>
                  <p-tag *ngIf="demandeAchat.etatDemande == 4" severity="warning" value="Modifié"></p-tag>
                </p>
              </div>
            </div>

            <p-divider *ngIf="listMotifs.length !== 0"></p-divider>
            <div *ngFor="let listMotif of listMotifs; let i = index;">
              <h4 class="title fz17 mb20">Motif {{ user.role.code == 'ROLE_CLIENT' ? 'de refus' : 'd\'annulation'}} #{{ i + 1 }}</h4>
              <p class="text justify-text">{{ listMotif.motif }}</p>
            </div>

            <p-divider></p-divider>
            <h4 class="title fz17 mb30">Détails de la publication</h4>
            <div class="row">
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Code publication</p>
                <p class="text">{{ demandeAchat.publication.codePublication }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Type de transaction</p>
                <p class="text">{{ demandeAchat.publication.typeDeTransaction }}</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Prix de vente</p>
                <p class="text">{{ demandeAchat.publication.prixDuBien | number }} FCFA</p>
              </div>
              <div class="col-sm-6 col-xl-4">
                <p class="fw600 mb5 ff-heading dark-color">Date de publication</p>
                <p class="text">{{ demandeAchat.publication.datePublication | date: "dd-MM-yyyy" }}</p>
              </div>
              <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.commission">
                <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                <p class="text">{{ demandeAchat.publication.commission }} %</p>
              </div>
              <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.fraisDeVisite">
                <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                <p class="text">{{ demandeAchat.publication.fraisDeVisite | number }} FCFA</p>
              </div>
            </div>

            <p-divider></p-divider>
            <div class="col-lg-8">
              <div *ngIf="images.length == 0">
                <p-image class="w-100" imageClass="imageLength0" src="assets/images/home/house.jpg" alt="" width="650" loading="lazy"></p-image>
              </div>

              <div *ngIf="images.length !== 0">
                <p-galleria [value]="images" [showIndicators]="false" [showItemNavigatorsOnHover]="true" [showItemNavigators]="true" [responsiveOptions]="responsiveOptions" [containerStyle]="{ 'max-width': '640px', 'margin': '0 auto' }" [numVisible]="5">

                  <ng-template pTemplate="item" let-item>
                      <img src="{{this.APIEndpoint+'api/image/bien-immobilier/'+item.id}}"  style="width: 100%; border-radius:10px;" loading="lazy"/>
                  </ng-template>

                  <ng-template pTemplate="thumbnail" *ngIf="images.length > 4" let-item>
                    <div class="grid grid-nogutter justify-content-center">
                      <img src="{{this.APIEndpoint+'api/image/bien-immobilier/'+item.id}}" style="width: 100%; border-radius:8px;" loading="lazy"/>
                    </div>
                  </ng-template>

                </p-galleria>
              </div>
            </div>
            <div class="col-lg-4">
              <h4 class="title fz17 mb30" *ngIf="bienImm.description">Description du bien</h4>
              <p class="text justify-text" *ngIf="bienImm.description">
                  {{ bienImm.description }}
              </p>
            </div>

            <p-divider></p-divider>
            <h4 class="title fz17 mb30">Détails du bien</h4>
            <div class="row">
              <div class="col-md-6 col-xl-4">
                <div class="d-flex justify-content-between">
                  <div class="pd-list">
                    <p class="fw600 mb10 ff-heading dark-color">Code</p>
                    <p class="fw600 mb10 ff-heading dark-color">Type de bien</p>
                    <p class="fw600 mb10 ff-heading dark-color" *ngIf="afficherCategorie()">Catégorie</p>
                    <p class="fw600 mb10 ff-heading dark-color">Pays</p>
                    <p class="fw600 mb10 ff-heading dark-color">Région</p>
                    <p class="fw600 mb-0 ff-heading dark-color">Ville</p>
                  </div>
                  <div class="pd-list">
                    <p class="text mb10">{{ bienImm.codeBien }}</p>
                    <p class="text mb10">{{ bienImm.typeDeBien.designation }}</p>
                    <p class="text mb10" *ngIf="afficherCategorie()">{{ bienImm.categorie }}</p>
                    <p class="text mb10">{{ bienImm.pays.libelle }}</p>
                    <p class="text mb10">{{ bienImm.region.libelle }}</p>
                    <p class="text mb-0">{{ bienImm.ville.libelle }}</p>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xl-4 offset-xl-2">
                <div class="d-flex justify-content-between">
                  <div class="pd-list">
                    <p class="fw600 mb10 ff-heading dark-color">Quartier</p>
                    <p class="fw600 mb10 ff-heading dark-color">Adresse</p>
                    <p class="fw600 mb10 ff-heading dark-color">Surface</p>
                    <p class="fw600 mb10 ff-heading dark-color">Statut</p>
                    <p class="fw600 mb-0 ff-heading dark-color">Etat</p>
                  </div>
                  <div class="pd-list">
                    <p class="text mb10">{{ bienImm.quartier.libelle }}</p>
                    <p class="text mb10" *ngIf="bienImm.adresse">{{ bienImm.adresse }}</p>
                    <p class="text mb10" *ngIf="bienImm.surface">{{ bienImm.surface }} m²</p>
                    <p class="text mb10">
                      <p-tag *ngIf="bienImm.statutBien == 'Disponible'" severity="success" value="Disponible"></p-tag>
                    </p>
                    <p class="text mb-0">
                      <p-tag *ngIf="bienImm.etatBien == true" severity="success" value="Activé"></p-tag>
                      <p-tag *ngIf="bienImm.etatBien == false" severity="danger" value="Désactivé"></p-tag>
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <p-divider *ngIf="bienImm.typeDeBien.designation != 'Terrain'"></p-divider>
            <h4 class="title fz17 mb30" *ngIf="bienImm.typeDeBien.designation != 'Terrain'">Caractéristiques du bien</h4>
            <div class="row">
              <div class="col-md-6 col-xl-4">
                <div class="d-flex justify-content-between">
                  <div class="pd-list">
                    <p *ngIf="caracteristique.nombreChambres" class="fw600 mb10 ff-heading dark-color">Nombre de chambres</p>
                    <p *ngIf="caracteristique.nombreChambresSalon" class="fw600 mb10 ff-heading dark-color">Nombre de chambres salon</p>
                    <p *ngIf="caracteristique.nombreBureaux" class="fw600 mb10 ff-heading dark-color">Nombre de bureaux</p>
                    <p *ngIf="caracteristique.nombreBoutiques" class="fw600 mb10 ff-heading dark-color">Nombre de boutiques</p>
                    <p *ngIf="caracteristique.nombreBoutiques" class="fw600 mb10 ff-heading dark-color">Nombre de magasions</p>
                    <p *ngIf="caracteristique.nombreAppartements" class="fw600 mb10 ff-heading dark-color">Nombre d'appartements</p>
                    <p *ngIf="caracteristique.nombreEtages" class="fw600 mb-0 ff-heading dark-color">Nombre d'étages</p>
                  </div>
                  <div class="pd-list">
                    <p *ngIf="caracteristique.nombreChambres" class="text mb10">{{ caracteristique.nombreChambres }}</p>
                    <p *ngIf="caracteristique.nombreChambresSalon" class="text mb10">{{ caracteristique.nombreChambresSalon }}</p>
                    <p *ngIf="caracteristique.nombreBureaux" class="text mb10">{{ caracteristique.nombreBureaux }}</p>
                    <p *ngIf="caracteristique.nombreBoutiques" class="text mb10">{{ caracteristique.nombreBoutiques }}</p>
                    <p *ngIf="caracteristique.nombreBoutiques" class="text mb10">{{ caracteristique.nombreBoutiques }}</p>
                    <p *ngIf="caracteristique.nombreAppartements" class="text mb10">{{ caracteristique.nombreAppartements }}</p>
                    <p *ngIf="caracteristique.nombreEtages" class="text mb-0">{{ caracteristique.nombreEtages }}</p>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xl-4 offset-xl-2">
                <div class="d-flex justify-content-between">
                  <div class="pd-list">
                    <p *ngIf="caracteristique.nombreGarages" class="fw600 mb10 ff-heading dark-color">Nombre de garages</p>
                    <p *ngIf="caracteristique.nombreCuisineInterne" class="fw600 mb10 ff-heading dark-color">Nombre de cusine interne</p>
                    <p *ngIf="caracteristique.nombreCuisineExterne" class="fw600 mb10 ff-heading dark-color">Nombre de cuisine externe</p>
                    <p *ngIf="caracteristique.nombreWCDoucheInterne" class="fw600 mb10 ff-heading dark-color">Nombre de WC-Douche interne</p>
                    <p *ngIf="caracteristique.nombreWCDoucheExterne" class="fw600 mb10 ff-heading dark-color">Nombre de WC-Douche externe</p>
                    <p *ngIf="caracteristique.nombreSalons" class="fw600 mb10 ff-heading dark-color">Nombre de salons</p>
                    <p *ngIf="caracteristique.nombrePlacards" class="fw600 mb-0 ff-heading dark-color">Nombre de placards</p>
                  </div>
                  <div class="pd-list">
                    <p *ngIf="caracteristique.nombreGarages" class="text mb10">{{ caracteristique.nombreGarages }}</p>
                    <p *ngIf="caracteristique.nombreCuisineInterne" class="text mb10">{{ caracteristique.nombreCuisineInterne }}</p>
                    <p *ngIf="caracteristique.nombreCuisineExterne" class="text mb10">{{ caracteristique.nombreCuisineExterne }}</p>
                    <p *ngIf="caracteristique.nombreWCDoucheInterne" class="text mb10">{{ caracteristique.nombreWCDoucheInterne }}</p>
                    <p *ngIf="caracteristique.nombreWCDoucheExterne" class="text mb10">{{ caracteristique.nombreWCDoucheExterne }}</p>
                    <p *ngIf="caracteristique.nombreSalons" class="text mb10">{{ caracteristique.nombreSalons }}</p>
                    <p *ngIf="caracteristique.nombrePlacards" class="text mb-0">{{ caracteristique.nombrePlacards }}</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="row mt-4">
              <div class="col-sm-6 col-md-4">
                <div class="pd-list mb10-sm">
                  <p *ngIf="caracteristique.parking" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Parking</p>
                  <p *ngIf="caracteristique.eauTde" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Eau TDE</p>
                  <p *ngIf="caracteristique.compteurEau" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Compteur d'eau</p>
                  <p *ngIf="caracteristique.wifi" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Wifi</p>
                  <p *ngIf="caracteristique.placard" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Placards</p>
                  <p *ngIf="caracteristique.cuisineInterne" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Cuisine interne</p>
                  <p *ngIf="caracteristique.wcDoucheInterne" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>WC-Douche interne</p>
                  <p *ngIf="caracteristique.balcon" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Balcon</p>
                  <p *ngIf="caracteristique.garage" class="text mb-0"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Garage</p>
                </div>
              </div>
              <div class="col-sm-6 col-md-4">
                <div class="pd-list">
                  <p *ngIf="caracteristique.eauForage" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Eau Forage</p>
                  <p *ngIf="caracteristique.electriciteCeet" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Électricité CEET</p>
                  <p *ngIf="caracteristique.ascenseur" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Ascenceur</p>
                  <p *ngIf="caracteristique.aLetage" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>À l'étage</p>
                  <p *ngIf="caracteristique.dalle" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Dallé</p>
                  <p *ngIf="caracteristique.cuisineExterne" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Cuisine externe</p>
                  <p *ngIf="caracteristique.wcDoucheExterne" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>WC-Douche externe</p>
                  <p *ngIf="caracteristique.climatisation" class="text mb-0"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Climatiseur</p>
                </div>
              </div>
              <div class="col-sm-6 col-md-4">
                <div class="pd-list">
                  <p *ngIf="caracteristique.plafonne" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Plafonné</p>
                  <p *ngIf="caracteristique.baieVitree" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Baie vitrée</p>
                  <p *ngIf="caracteristique.solCarelle" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Sol carellé</p>
                  <p *ngIf="caracteristique.cashPowerPersonnel" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Cash power personnel</p>
                  <p *ngIf="caracteristique.compteurAdditionnel" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Compteur additionnel</p>
                  <p *ngIf="caracteristique.jardin" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Jardin</p>
                  <p *ngIf="caracteristique.piscine" class="text mb10"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Piscine</p>
                  <p *ngIf="caracteristique.terrasse" class="text mb-0"><i style="color: #42A948;" class="pi pi-check-circle align-middle pe-2"></i>Terrasse<p></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- Start Dialog Annulation d'une demande -->
    <p-dialog header="Annulation d'un demande" [(visible)]="modalAnnulationVisible" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
      <form class="form-style1">
        <div class="row">
          <div class="form-group">
            <div class="mb30">
              <label class="heading-color ff-heading fw600 mb10">Motif de l'annulation</label>
              <textarea id="motifRejet" name="motifRejet" [(ngModel)]="motifAnnulationForm.motif" placeholder="Le motif de l'annulation de la demande" style="height: 160px;"></textarea>
            </div>
          </div>
          <div class="col-md-12">
            <div class="text-end">
              <button class="ud-btn btn-annuler" type="button" (click)="dialogueNotVisible()">Annuler</button>
              &nbsp;
              <button class="ud-btn btn-valider" type="button" (click)="enregistrerMotifAnnuler()">Enregistrer</button>
            </div>
          </div>
        </div>
      </form>
    </p-dialog>
    <!-- End Dialog Annulation d'une demande -->

    <!-- Start Dialog Refus d'une demande -->
    <p-dialog header="Refus d'une demande" [(visible)]="modalRefusVisible" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
      <form class="form-style1">
        <div class="row">
          <div class="form-group">
            <div class="mb30">
              <label class="heading-color ff-heading fw600 mb10">Motif du refus</label>
              <textarea id="motifRejet" name="motifRejet" [(ngModel)]="motifRefusForm.motif" placeholder="Le motif du refus de la demande" style="height: 160px;"></textarea>
            </div>
          </div>
          <div class="col-md-12">
            <div class="text-end">
              <button class="ud-btn btn-annuler" type="button" (click)="dialogueNotVisible()">Annuler</button>
              &nbsp;
              <button class="ud-btn btn-valider" type="button" (click)="enregistrerMotifRefuser()">Enregistrer</button>
            </div>
          </div>
        </div>
      </form>
    </p-dialog>
    <!-- End Dialog Refus d'une demande -->

    <div class="text-end">
      <a class="ud-btn btn-retour" (click)="voirListe()" type="button">Retour</a>
    </div>
  </div>
  <!-- End Détails d'une demande d'achat -->

  <!-- Start Modification d'une demande d'achat -->
  <div *ngIf="affichage == 3">
    <div class="row align-items-center pb40">
      <div class="col-xxl-4">
        <div class="dashboard_title_area">
          <h4>Modification d'une demande d'achat</h4>
        </div>
      </div>
      <div class="col-xxl-8">
        <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
          <a class="ud-btn btn-retour" type="button" (click)="voirListe()">Retour</a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xl-12">
        <div class="ps-widget bgc-white bdrs12 p30 mb30 position-relative">
          <form #demandeAchatForm="ngForm" (ngSubmit)="modifier(demandeAchat.id)" class="form-style1">
            <div class="row">
              <div class="col-sm-6">
                <div class="mb20">
                  <label class="heading-color ff-heading fw600 mb10">Prix d'achat proposé</label>
                  <p-inputNumber class="pInputNumber p-fluid" placeholder="Le prix d'achat proposé" [(ngModel)]="demandeAchat.prixAchat" inputId="prixAchat" name="prixAchat" mode="currency" currency="CFA" locale="de-DE" [required]="true" [max]="demandeAchat.publication.prixDuBien" #prixAchat="ngModel">
                  </p-inputNumber>
                  <div [hidden]="!prixAchat?.hasError('required') || !prixAchat.touched" class="error">
                    Le prix d'achat proposé est requis.
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="mb20">
                  <label class="heading-color ff-heading fw600 mb10">Nombre de tranches</label>
                  <p-inputNumber class="pInputNumber p-fluid" placeholder="Nombre de tranches pour le paiement" [(ngModel)]="demandeAchat.nombreDeTranche" inputId="nombreDeTranche" name="nombreDeTranche" suffix=" tranches" [required]="true" #nombreDeTranche="ngModel">
                  </p-inputNumber>
                  <div [hidden]="!nombreDeTranche?.hasError('required') || !nombreDeTranche.touched" class="error">
                    Le nombre de tranches pour le paiement est requis.
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-12">
              <div class="text-end">
                <button class="ud-btn btn-annuler" (click)="demandeAchatForm.reset()" type="button">Annuler</button>
                &nbsp;
                <button class="ud-btn btn-modifier" [ngClass]="{ 'disabled-link': !demandeAchatForm.valid }" type="submit">Modifier</button>
              </div>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
  <!-- End Modification d'une demande d'achat -->

  <!-- Start Formulaire Proposition Contrat -->
  <div *ngIf="affichage == 4">
    <div class="row align-items-center pb40">
      <div class="col-xxl-5">
        <div class="dashboard_title_area">
          <h4>Proposition d'un contrat de vente</h4>
          <p class="text"></p>
        </div>
      </div>
      <div class="col-xxl-7">
        <div class="dashboard_search_meta d-md-flex align-items-center justify-content-xxl-end">
          <a class="ud-btn btn-retour" type="button" (click)="voirListe()">Retour</a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xl-12">
        <div class="ps-widget bgc-white bdrs12 default-box-shadow2 p30 mb30">
          <p-steps [model]="menus" [readonly]="false" [activeIndex]="activeIndex" (activeIndexChange)="onActiveIndexChange($event)"></p-steps>

          <!-- Start Etape 1e -->
          <div *ngIf="activeIndex == 0" class="ps-widget bgc-white bdrs12 p30 position-relative">
            <form  [formGroup]="contratVenteFormStep1" class="form-style1">
              <div class="row">
                <div class="col-lg-6">
                  <div class="mb20">
                    <label class="heading-color ff-heading fw600 mb10">Prix de vente</label>
                    <p-inputNumber class="pInputNumber p-fluid" placeholder="Prix de vente" [(ngModel)]="contratVente.prixVente" inputId="prixVente" name="prixVente" mode="currency" currency="CFA" locale="de-DE" [required]="true"
                     formControlName="prixVente" [max]="demandeAchat.prixAchat">
                    </p-inputNumber>
                    <div [hidden]="!prixVente?.hasError('required') || !prixVente.touched" class="error">
                      Le prix de vente est requis.
                    </div>
                  </div>
                </div>

                <div class="col-lg-6">
                  <div class="mb20">
                    <label class="heading-color ff-heading fw600 mb10">Nombre de tranches du paiement</label>
                    <p-inputNumber class="pInputNumber p-fluid" placeholder="Nombre de tranches" [(ngModel)]="contratVente.nombreDeTranche" inputId="nombreDeTranche" name="nombreDeTranche" suffix=" tranche(s)" [required]="true"
                     formControlName="nombreDeTranche">
                    </p-inputNumber>
                    <div [hidden]="!nombreDeTranche?.hasError('required') || !nombreDeTranche.touched" class="error">
                      Le nombre de tranches est requis.
                    </div>
                  </div>
                </div>

                <div class="col-md-12">
                  <div class="d-sm-flex justify-content-between">
                    <button class="ud-btn btn-annuler" type="button" (click)="resetContratVenteForm()">Annuler</button>
                    <button class="ud-btn btn-valider" [ngClass]="{ 'disabled-link': contratVenteFormStep1.invalid }" (click)="etape2()">Suivant<i class="pi pi-arrow-right"></i></button>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <!-- End Etape 1e -->

          <!-- Start Etape 2 -->
          <div *ngIf="activeIndex == 1" class="ps-widget bgc-white bdrs12 p30 position-relative">
            <div class="row">
              <form  [formGroup]="contratVenteFormStep2" class="form-style1">
                <div class="row">
                  <h5>Témoins - Vendeur</h5>
                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Nom & Prénom(s) (1)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Nom & Prénoms(s) Témoin(1) Vendeur" formControlName="nomPrenomTemoin1Vendeur" [(ngModel)]="contratVente.nomPrenomTemoin1Vendeur"/>
                      <div [hidden]="!nomPrenomTemoin1Vendeur?.hasError('required') || !nomPrenomTemoin1Vendeur.touched" class="error">
                        Le nom et prénom(s) est requis.
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Contact (1)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Contact Témoin(1) Vendeur" formControlName="contactTemoin1Vendeur" [(ngModel)]="contratVente.contactTemoin1Vendeur"/>
                      <div [hidden]="!contactTemoin1Vendeur?.hasError('required') || !contactTemoin1Vendeur.touched" class="error">
                        Le contact est requis.
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Nom & Prénom(s) (2)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Nom & Prénom(s) Témoin(2) Vendeur" formControlName="nomPrenomTemoin2Vendeur" [(ngModel)]="contratVente.nomPrenomTemoin2Vendeur"/>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Contact (2)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Contact Témoin(2) Vendeur" formControlName="contactTemoin2Vendeur" [(ngModel)]="contratVente.contactTemoin2Vendeur"/>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Nom & Prénom(s) (3)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Nom & Prénom(s) Témoin(3) Vendeur" formControlName="nomPrenomTemoin3Vendeur" [(ngModel)]="contratVente.nomPrenomTemoin3Vendeur"/>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Contact (3)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Contact Témoin(3) Vendeur" formControlName="contactTemoin3Vendeur" [(ngModel)]="contratVente.contactTemoin3Vendeur"/>
                    </div>
                  </div>

                  <h5>Témoins - Acquéreur</h5>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Nom & Prénom(s) (1)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Nom & Prénom(s) Témoin(1) Acheteur" formControlName="nomPrenomTemoin1Acheteur" [(ngModel)]="contratVente.nomPrenomTemoin1Acheteur"/>
                      <div [hidden]="!nomPrenomTemoin1Acheteur?.hasError('required') || !nomPrenomTemoin1Acheteur.touched" class="error">
                        Le nom & prénom(s) est requis.
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Contact (1)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Contact Témoin(1) Acheteur" formControlName="contactTemoin1Acheteur" [(ngModel)]="contratVente.contactTemoin1Acheteur"/>
                      <div [hidden]="!contactTemoin1Acheteur?.hasError('required') || !contactTemoin1Acheteur.touched" class="error">
                        Le contact est requis.
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Nom & Prénom(s) (2)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Nom & Prénom(s) Témoin(2) Acheteur" formControlName="nomPrenomTemoin2Acheteur" [(ngModel)]="contratVente.nomPrenomTemoin2Acheteur"/>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Contact (2)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Contact Témoin(2) Acheteur" formControlName="contactTemoin2Acheteur" [(ngModel)]="contratVente.contactTemoin2Acheteur"/>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Nom & Prénom(s) (3)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Nom & Prénom(s) Témoin(3) Acheteur" formControlName="nomPrenomTemoin3Acheteur" [(ngModel)]="contratVente.nomPrenomTemoin3Acheteur"/>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Contact (3)</label>
                      <input type="text" pInputText class="pInputText p-fluid form-control" placeholder="Contact Témoin(3) Acheteur" formControlName="contactTemoin3Acheteur" [(ngModel)]="contratVente.contactTemoin3Acheteur"/>
                    </div>
                  </div>

                  <div class="col-md-12">
                    <div class="d-sm-flex justify-content-between">
                      <button class="ud-btn btn-retour" (click)="etape1()"><i class="pi pi-arrow-left"></i> Précédent</button>
                      <button class="ud-btn btn-valider" [ngClass]="{ 'disabled-link': contratVenteFormStep2.invalid }" (click)="etape3()">Suivant<i class="pi pi-arrow-right"></i></button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <!-- End Etape 2-->

          <!-- Start Etape 3 -->
          <div *ngIf="activeIndex == 2" class="ps-widget bgc-white bdrs12 p30 position-relative">
            <div class="row" *ngIf="user.role.code == 'ROLE_RESPONSABLE' || user.role.code == 'ROLE_AGENTIMMOBILIER' || user.role.code == 'ROLE_DEMARCHEUR'">
              <form  [formGroup]="contratVenteFormStep3" class="form-style1">
                <div class="row">

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Commission en pourcentage</label>
                      <p-inputNumber class="pInputNumber p-fluid" placeholder="La commission en nombre de mois" [(ngModel)]="contratVente.commission" formControlName="commission" inputId="commission" suffix=" %"
                       name="commission" [max]="(contratVente.demandeAchat.publication ? contratVente.demandeAchat.publication.commission : 12)"> </p-inputNumber>
                    </div>
                  </div>

                  <div class="col-lg-6">
                    <div class="mb20">
                      <label class="heading-color ff-heading fw600 mb10">Frais de visite</label>
                      <p-inputNumber class="pInputNumber p-fluid" placeholder="Frais de visite" [(ngModel)]="contratVente.fraisDeVisite" formControlName="fraisDeVisite" inputId="fraisDeVisite" name="fraisDeVisite" mode="currency" currency="CFA" locale="de-DE">
                      </p-inputNumber>
                    </div>
                  </div>

                  <div class="col-md-12">
                    <div class="d-sm-flex justify-content-between">
                      <button class="ud-btn btn-retour" (click)="etape2()"><i class="pi pi-arrow-left"></i> Précédent</button>
                      <button class="ud-btn btn-valider" [ngClass]="{ 'disabled-link': contratVenteFormStep3.invalid }" (click)="etape3()">Suivant<i class="pi pi-arrow-right"></i></button>
                    </div>
                  </div>
                </div>
              </form>
            </div>

            <div class="row" *ngIf="user.role.code == 'ROLE_PROPRIETAIRE' || user.role.code == 'ROLE_GERANT'">
              <div class="col-lg-12">
                <div class="row" *ngIf="demandeAchat.publication.bienImmobilier.estDelegue">
                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Client</h4>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.client.nom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.client.prenom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.client.email }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.client.telephone }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prix de vente</p>
                      <p class="text">{{ contratVente.prixVente | number }} FCFA</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nombre de tranches du paiement</p>
                      <p class="text">{{ contratVente.nombreDeTranche | number }} tranches</p>
                    </div>
                  </div>

                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Propriétaire</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.nom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.prenom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.telephone }}</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Acheteur && contratVente.contactTemoin1Acheteur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Acquéreur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Acheteur }}</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Vendeur && contratVente.contactTemoin1Vendeur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Vendeur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin3Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Vendeur }}</p>
                    </div>
                  </div>

                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                    <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeAchat.publication.bienImmobilier.description">Description</p>
                    <p class="text justify-text" *ngIf="demandeAchat.publication.bienImmobilier.description">
                      {{ demandeAchat.publication.bienImmobilier.description }}
                    </p>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.codeBien }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorieInForm()">
                      <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.categorie }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Région</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.adresse">
                      <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.adresse }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.surface">
                      <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.surface | number }} m²</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="demandeAchat.publication.agenceImmobiliere">
                    <h4 class="title title-detail fz17 mb20">Agence</h4>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.nomAgence }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.adresseEmail }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.telephone }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                      <p class="text">{{ contratVente.commission }} %</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                      <p class="text">{{ contratVente.fraisDeVisite | number }} FCFA</p>
                    </div>

                  </div>

                  <div class="row" *ngIf="!demandeAchat.publication.agenceImmobiliere">
                    <h4 class="title title-detail fz17 mb20" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">Démarcheur</h4>
                    <h4 class="title title-detail fz17 mb20" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">Gérant</h4>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.personne.nom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.publication.personne.prenom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.personne.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.personne.telephone }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                      <p class="text">{{ contratVente.commission }} %</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                      <p class="text">{{ contratVente.fraisDeVisite | number }} FCFA</p>
                    </div>

                  </div>
                </div>

                <div class="row" *ngIf="!demandeAchat.publication.bienImmobilier.estDelegue">
                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Client</h4>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.client.nom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.client.prenom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.client.email }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.client.telephone }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prix de vente</p>
                      <p class="text">{{ contratVente.prixVente | number }} FCFA</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nombre de tranches du paiement</p>
                      <p class="text">{{ contratVente.nombreDeTranche | number }} tranches</p>
                    </div>
                  </div>

                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Propriétaire</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.nom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.prenom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.telephone }}</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Acheteur && contratVente.contactTemoin1Acheteur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Acquéreur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Acheteur }}</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Vendeur && contratVente.contactTemoin1Vendeur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Vendeur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin3Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Vendeur }}</p>
                    </div>
                  </div>

                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                    <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeAchat.publication.bienImmobilier.description">Description</p>
                    <p class="text justify-text" *ngIf="demandeAchat.publication.bienImmobilier.description">
                      {{ demandeAchat.publication.bienImmobilier.description }}
                    </p>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.codeBien }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Type de bien</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.typeDeBien.designation }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorieInForm()">
                      <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.categorie }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Région</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.adresse">
                      <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.adresse }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.surface">
                      <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.surface | number }} m²</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-12 mt30">
                <div class="d-sm-flex justify-content-between">
                  <button class="ud-btn btn-retour" type="button" (click)="etape2()"><i class="pi pi-arrow-left"></i> Précédent</button>
                  <button class="ud-btn btn-valider" (click)="ajouterContratVente()" [ngClass]="{ 'disabled-link': contratVenteFormStep1.invalid || contratVenteFormStep2.invalid }">Enregistrer</button>
                </div>
              </div>
            </div>
          </div>
          <!-- Start Etape 3 -->

          <!-- Start Etape 4 -->
          <div *ngIf="activeIndex == 3" class="ps-widget bgc-white bdrs12 p30 position-relative">
            <div class="row">
              <div class="col-lg-12">
                <div class="row" *ngIf="demandeAchat.publication.bienImmobilier.estDelegue">
                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Client</h4>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.client.nom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.client.prenom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.client.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.client.telephone }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prix de vente</p>
                      <p class="text">{{ contratVente.prixVente | number }} FCFA</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nombre de tranches du paiement</p>
                      <p class="text">{{ contratVente.nombreDeTranche | number }} tranches</p>
                    </div>
                  </div>

                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Propriétaire</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.nom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.prenom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.personne.telephone }}</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Acheteur && contratVente.contactTemoin1Acheteur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Acquéreur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Acheteur }}</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Vendeur && contratVente.contactTemoin1Vendeur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Vendeur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin3Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Vendeur }}</p>
                    </div>
                  </div>

                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                    <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeAchat.publication.bienImmobilier.description">Description</p>
                    <p class="text justify-text" *ngIf="demandeAchat.publication.bienImmobilier.description">
                      {{ demandeAchat.publication.bienImmobilier.description }}
                    </p>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.codeBien }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Type de bien</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.typeDeBien.designation }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorieInForm()">
                      <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.categorie }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Région</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.adresse">
                      <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.adresse }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.surface">
                      <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.surface | number }} m²</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="demandeAchat.publication.agenceImmobiliere">
                    <h4 class="title title-detail fz17 mb20">Agence</h4>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.nomAgence }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.adresseEmail }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.telephone }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                      <p class="text">{{ contratVente.commission }} %</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                      <p class="text">{{ contratVente.fraisDeVisite | number }} FCFA</p>
                    </div>

                  </div>

                  <div class="row" *ngIf="!demandeAchat.publication.agenceImmobiliere">
                    <h4 class="title title-detail fz17 mb20" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">Démarcheur</h4>
                    <h4 class="title title-detail fz17 mb20" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">Gérant</h4>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.personne.nom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.publication.personne.prenom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.personne.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR' || demandeAchat.publication.personne.role.code == 'ROLE_GERANT'">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.personne.telephone }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                      <p class="text">{{ contratVente.commission }} %</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                      <p class="text">{{ contratVente.fraisDeVisite | number }} FCFA</p>
                    </div>

                  </div>
                </div>

                <div class="row" *ngIf="!demandeAchat.publication.bienImmobilier.estDelegue">
                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Client</h4>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.client.nom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.client.prenom }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.client.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.client.telephone }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Prix de vente</p>
                      <p class="text">{{ contratVente.prixVente | number }} FCFA</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nombre de tranches du paiement</p>
                      <p class="text">{{ contratVente.nombreDeTranche | number }} tranches</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Acheteur && contratVente.contactTemoin1Acheteur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Acquéreur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Acheteur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Acheteur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Acheteur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Acheteur }}</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="contratVente.nomPrenomTemoin1Vendeur && contratVente.contactTemoin1Vendeur">
                    <h4 class="title title-detail fz17 mb10">Témoins - Vendeur</h4>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(1)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin1Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(1)</p>
                      <p class="text">{{ contratVente.contactTemoin1Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(2)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin2Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin2Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(2)</p>
                      <p class="text">{{ contratVente.contactTemoin2Vendeur }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.nomPrenomTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Nom & Prénom(s) Témoin(3)</p>
                      <p class="text">{{ contratVente.nomPrenomTemoin3Vendeur }}</p>
                    </div>
                    <div class="col-sm-6 col-xl-4" *ngIf="contratVente.contactTemoin3Vendeur">
                      <p class="fw600 mb5 ff-heading dark-color">Contact Témoin(3)</p>
                      <p class="text">{{ contratVente.contactTemoin3Vendeur }}</p>
                    </div>
                  </div>

                  <div class="row">
                    <h4 class="title title-detail fz17 mb10">Bien immobilier</h4>
                    <p class="fw600 mb5 ff-heading dark-color" *ngIf="demandeAchat.publication.bienImmobilier.description">Description</p>
                    <p class="text justify-text" *ngIf="demandeAchat.publication.bienImmobilier.description">
                      {{ demandeAchat.publication.bienImmobilier.description }}
                    </p>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Code du bien</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.codeBien }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Type de bien</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.typeDeBien.designation }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="afficherCategorieInForm()">
                      <p class="fw600 mb5 ff-heading dark-color">Catégorie</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.categorie }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Pays</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.pays.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Région</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.region.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Ville</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.ville.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Quartier</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.quartier.libelle }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.adresse">
                      <p class="fw600 mb5 ff-heading dark-color">Adresse</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.adresse }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.bienImmobilier.surface">
                      <p class="fw600 mb5 ff-heading dark-color">Surface</p>
                      <p class="text">{{ demandeAchat.publication.bienImmobilier.surface | number }} m²</p>
                    </div>
                  </div>

                  <div class="row" *ngIf="demandeAchat.publication.agenceImmobiliere">
                    <h4 class="title title-detail fz17 mb20">Agence</h4>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.nomAgence }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.adresseEmail }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.agenceImmobiliere.telephone }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                      <p class="text">{{ contratVente.commission }} %</p>
                    </div>

                    <div class="col-sm-6 col-xl-4">
                      <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                      <p class="text">{{ contratVente.fraisDeVisite | number }} FCFA</p>
                    </div>

                  </div>

                  <div class="row" *ngIf="!demandeAchat.publication.agenceImmobiliere">
                    <h4 class="title title-detail fz17 mb20" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">Démarcheur</h4>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.personne.nom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.publication.personne.prenom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.personne.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.personne.telephone }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Commission</p>
                      <p class="text">{{ contratVente.commission }} %</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_DEMARCHEUR'">
                      <p class="fw600 mb5 ff-heading dark-color">Frais de visite</p>
                      <p class="text">{{ contratVente.fraisDeVisite | number }} FCFA</p>
                    </div>

                    <h4 class="title title-detail fz17 mb20" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">Propriétaire</h4>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                      <p class="fw600 mb5 ff-heading dark-color">Nom</p>
                      <p class="text">{{ demandeAchat.publication.personne.nom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                      <p class="fw600 mb5 ff-heading dark-color">Prénom(s)</p>
                      <p class="text">{{ demandeAchat.publication.personne.prenom }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                      <p class="fw600 mb5 ff-heading dark-color">Email</p>
                      <p class="text">{{ demandeAchat.publication.personne.email }}</p>
                    </div>

                    <div class="col-sm-6 col-xl-4" *ngIf="demandeAchat.publication.personne.role.code == 'ROLE_PROPRIETAIRE'">
                      <p class="fw600 mb5 ff-heading dark-color">Téléphone</p>
                      <p class="text">{{ demandeAchat.publication.personne.telephone }}</p>
                    </div>

                  </div>
                </div>
              </div>

              <div class="col-md-12 mt30">
                <div class="d-sm-flex justify-content-between">
                  <button class="ud-btn btn-retour" type="button" (click)="etape2()"><i class="pi pi-arrow-left"></i> Précédent</button>
                  <button class="ud-btn btn-valider" (click)="ajouterContratVente()" [ngClass]="{ 'disabled-link': contratVenteFormStep1.invalid || contratVenteFormStep2.invalid || contratVenteFormStep3 }">Enregistrer</button>
                </div>
              </div>
            </div>
          </div>
          <!-- End Etape 4 -->
        </div>
      </div>
    </div>
  </div>
  <!-- End Formulaire Proposition Contrat -->
</div>
